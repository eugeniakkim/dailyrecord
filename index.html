<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏùºÏÉÅ Í∏∞Î°ù Í¥ÄÎ¶¨</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background-color: #0f172a;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // ÏïÑÏù¥ÏΩò Ïª¥Ìè¨ÎÑåÌä∏Îì§
        const Calendar = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>;
        const Dumbbell = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14.4 14.4L9.6 9.6"></path><path d="M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z"></path><path d="m21.5 21.5-1.4-1.4"></path><path d="M3.9 3.9 2.5 2.5"></path><path d="M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z"></path></svg>;
        const Moon = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg>;
        const Pill = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z"></path><path d="m8.5 8.5 7 7"></path></svg>;
        const Home = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>;
        const BarChart3 = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 3v18h18"></path><path d="M18 17V9"></path><path d="M13 17V5"></path><path d="M8 17v-3"></path></svg>;
        const Plus = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M5 12h14"></path><path d="M12 5v14"></path></svg>;
        const X = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>;
        const Edit = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>;
        const ChevronLeft = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="15 18 9 12 15 6"></polyline></svg>;
        const ChevronRight = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="9 18 15 12 9 6"></polyline></svg>;
        const Download = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>;
        const Upload = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>;

        // ÏÇ¨Ïö©Ïûê Ï†ïÏùò
        const USERS = {
            tide: { name: 'ÌÉÄÏù¥Îìú', emoji: 'üê±', color: 'blue' },
            nurungi: { name: 'ÎàÑÎ†ÅÏù¥', emoji: 'üêï', color: 'amber' }
        };

        // ÌôúÎèô ÌÉÄÏûÖ
        const ACTIVITY_TYPES = {
            exercise: { name: 'Ïö¥Îèô', icon: Dumbbell, color: 'green' },
            snack: { name: 'ÏïºÏãù', icon: Moon, color: 'purple' },
            digestive: { name: 'ÏÜåÌôîÏ†ú', icon: Pill, color: 'pink' },
            subscription: { name: 'Ï≤≠ÏïΩ', icon: Home, color: 'orange' }
        };

        const DailyTracker = () => {
            const [currentUser, setCurrentUser] = useState('all');
            const [currentPage, setCurrentPage] = useState('dashboard');
            const [timeFilter, setTimeFilter] = useState('week');
            
            const [activities, setActivities] = useState([]);
            const [showForm, setShowForm] = useState(false);
            const [currentDate, setCurrentDate] = useState(new Date());
            const [editingActivity, setEditingActivity] = useState(null);

            // Í∏∞Î≥∏ ÏÉòÌîå Îç∞Ïù¥ÌÑ∞
            const defaultActivities = [
                {
                    id: 1,
                    user: 'tide',
                    type: 'subscription',
                    date: '2025-11-10',
                    apartmentName: 'Î∞òÌè¨ ÎûòÎØ∏Ïïà Ìä∏Î¶¨ÎãàÏõê',
                    size: '',
                    price: '20Ïñµ',
                    announcementDate: '2025-11-19'
                },
                {
                    id: 2,
                    user: 'tide',
                    type: 'snack',
                    date: '2025-11-10',
                    food: 'Îñ°Î≥∂Ïù¥, ÍπÄ1Í∞ú',
                    calories: '',
                    note: ''
                },
                {
                    id: 3,
                    user: 'nurungi',
                    type: 'digestive',
                    date: '2025-11-10',
                    productName: 'ÌååÏù∏Ïï†Ìîå',
                    time: '10:00',
                    note: ''
                },
                {
                    id: 4,
                    user: 'tide',
                    type: 'exercise',
                    date: '2025-11-06',
                    exerciseType: 'pt',
                    duration: '30',
                    note: ''
                }
            ];

            // Îç∞Ïù¥ÌÑ∞ Î°úÎìú
            useEffect(() => {
                const loadedData = localStorage.getItem('userActivities');
                if (loadedData) {
                    try {
                        const parsed = JSON.parse(loadedData);
                        // Í∏∞Î≥∏ Îç∞Ïù¥ÌÑ∞ÏôÄ Ï†ÄÏû•Îêú Îç∞Ïù¥ÌÑ∞ Î≥ëÌï© (Ï§ëÎ≥µ Ï†úÍ±∞)
                        const merged = [...defaultActivities];
                        parsed.forEach(item => {
                            // Í∏∞Î≥∏ Îç∞Ïù¥ÌÑ∞ ID(1-4)Í∞Ä ÏïÑÎãå Í≤ÉÎßå Ï∂îÍ∞Ä
                            if (!defaultActivities.find(d => d.id === item.id)) {
                                merged.push(item);
                            }
                        });
                        setActivities(merged);
                    } catch (e) {
                        console.error('Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', e);
                        setActivities(defaultActivities);
                    }
                } else {
                    // Ï†ÄÏû•Îêú Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏúºÎ©¥ Í∏∞Î≥∏ Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö©
                    setActivities(defaultActivities);
                }
            }, []);

            // Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû•
            const saveData = (data) => {
                localStorage.setItem('userActivities', JSON.stringify(data));
                setActivities(data);
            };

            // Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî Ìï®Ïàò
            const resetToDefault = () => {
                if (confirm('‚ö†Ô∏è Î™®Îì† Îç∞Ïù¥ÌÑ∞Í∞Ä ÏÇ≠Ï†úÎêòÍ≥† Í∏∞Î≥∏ ÏÉòÌîå Îç∞Ïù¥ÌÑ∞Î°ú Ï¥àÍ∏∞ÌôîÎê©ÎãàÎã§.\n\nÏßÑÌñâÌïòÏãúÍ≤†ÏäµÎãàÍπå?\n\n(Î∞±ÏóÖÏù¥ ÌïÑÏöîÌïòÎ©¥ Î®ºÏ†Ä "CSVÎ°ú Ï†ÄÏû•"ÏùÑ ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî!)')) {
                    localStorage.removeItem('userActivities');
                    setActivities(defaultActivities);
                    alert('‚úÖ Îç∞Ïù¥ÌÑ∞Í∞Ä Ï¥àÍ∏∞ÌôîÎêòÏóàÏäµÎãàÎã§.');
                }
            };

            // CSVÎ°ú Ï†ÄÏû• - Î™®Îì† Ïª¨Îüº Ìè¨Ìï®
            const exportToCSV = () => {
                const csvData = activities.map(item => {
                    return {
                        ÏÇ¨Ïö©Ïûê: USERS[item.user].name,
                        ÌôúÎèôÌÉÄÏûÖ: ACTIVITY_TYPES[item.type].name,
                        ÎÇ†Ïßú: item.date,
                        Ïö¥ÎèôÏ¢ÖÎ•ò: item.exerciseType || '',
                        ÏãúÍ∞Ñ_Î∂Ñ: item.duration || '',
                        ÏùåÏãù: item.food || '',
                        ÏπºÎ°úÎ¶¨: item.calories || '',
                        Ï†úÌíàÎ™Ö: item.productName || '',
                        Î≥µÏö©ÏãúÍ∞Ñ: item.time || '',
                        ÏïÑÌååÌä∏Î™Ö: item.apartmentName || '',
                        ÌèâÌòï: item.size || '',
                        Í∞ÄÍ≤©_ÎßåÏõê: item.price || '',
                        Î∞úÌëúÏùº: item.announcementDate || '',
                        Î©îÎ™®: item.note || ''
                    };
                });

                const csv = Papa.unparse(csvData);
                const blob = new Blob(['\uFEFF' + csv], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                const url = URL.createObjectURL(blob);
                
                link.setAttribute('href', url);
                link.setAttribute('download', `activities_${new Date().toISOString().split('T')[0]}.csv`);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };

            // CSVÏóêÏÑú Î∂àÎü¨Ïò§Í∏∞
            const importFromCSV = (event) => {
                const file = event.target.files[0];
                if (!file) return;

                Papa.parse(file, {
                    header: true,
                    complete: (results) => {
                        try {
                            const importedData = results.data
                                .filter(row => row.ÏÇ¨Ïö©Ïûê && row.ÌôúÎèôÌÉÄÏûÖ && row.ÎÇ†Ïßú)
                                .map(row => {
                                    const userId = Object.keys(USERS).find(
                                        key => USERS[key].name === row.ÏÇ¨Ïö©Ïûê
                                    );
                                    const typeId = Object.keys(ACTIVITY_TYPES).find(
                                        key => ACTIVITY_TYPES[key].name === row.ÌôúÎèôÌÉÄÏûÖ
                                    );

                                    const base = {
                                        id: Date.now() + Math.random(),
                                        user: userId || 'tide',
                                        type: typeId || 'exercise',
                                        date: row.ÎÇ†Ïßú
                                    };

                                    if (typeId === 'exercise') {
                                        return { ...base, exerciseType: row.Ïö¥ÎèôÏ¢ÖÎ•ò, duration: row.ÏãúÍ∞Ñ_Î∂Ñ, note: row.Î©îÎ™® };
                                    } else if (typeId === 'snack') {
                                        return { ...base, food: row.ÏùåÏãù, calories: row.ÏπºÎ°úÎ¶¨, note: row.Î©îÎ™® };
                                    } else if (typeId === 'digestive') {
                                        return { ...base, productName: row.Ï†úÌíàÎ™Ö, time: row.Î≥µÏö©ÏãúÍ∞Ñ, note: row.Î©îÎ™® };
                                    } else if (typeId === 'subscription') {
                                        return { ...base, apartmentName: row.ÏïÑÌååÌä∏Î™Ö, size: row.ÌèâÌòï, price: row.Í∞ÄÍ≤©_ÎßåÏõê, announcementDate: row.Î∞úÌëúÏùº };
                                    }
                                    return base;
                                });

                            const merged = [...activities, ...importedData];
                            saveData(merged);
                            alert(`${importedData.length}Í∞úÏùò ÌôúÎèôÏùÑ Î∂àÎü¨ÏôîÏäµÎãàÎã§.`);
                        } catch (e) {
                            alert('CSV ÌååÏùº ÌòïÏãùÏù¥ Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§.');
                            console.error(e);
                        }
                    },
                    error: (error) => {
                        alert('ÌååÏùº ÏùΩÍ∏∞ Ïã§Ìå®');
                        console.error(error);
                    }
                });
                event.target.value = '';
            };

            const addActivity = (activity, activityType) => {
                const newActivity = {
                    id: Date.now(),
                    user: activity.user || (currentUser === 'all' ? 'tide' : currentUser),
                    type: activityType,
                    ...activity
                };
                const newActivities = [...activities, newActivity];
                saveData(newActivities);
                setShowForm(false);
            };

            const updateActivity = (id, updatedData) => {
                const updated = activities.map(item => 
                    item.id === id ? { ...item, ...updatedData } : item
                );
                saveData(updated);
                setEditingActivity(null);
                setShowForm(false);
            };

            const deleteActivity = (id) => {
                const updated = activities.filter(item => item.id !== id);
                saveData(updated);
            };

            const filterByDateAndUser = (data) => {
                const now = new Date();
                const filtered = data.filter(item => {
                    if (currentUser !== 'all' && item.user !== currentUser) return false;
                    
                    const itemDate = new Date(item.date);
                    const diffTime = now - itemDate;
                    const diffDays = diffTime / (1000 * 60 * 60 * 24);
                    
                    if (timeFilter === 'week') return diffDays <= 7;
                    if (timeFilter === '3months') return diffDays <= 90;
                    if (timeFilter === 'month') return diffDays <= 30;
                    return true;
                });
                
                return filtered.sort((a, b) => new Date(b.date) - new Date(a.date));
            };

            const getDaysInMonth = (date) => {
                const year = date.getFullYear();
                const month = date.getMonth();
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                const daysInMonth = lastDay.getDate();
                const startingDayOfWeek = firstDay.getDay();

                const days = [];
                for (let i = 0; i < startingDayOfWeek; i++) {
                    days.push(null);
                }
                for (let i = 1; i <= daysInMonth; i++) {
                    days.push(i);
                }
                return days;
            };

            const getActivitiesForDate = (day) => {
                if (!day) return [];
                const dateStr = `${currentDate.getFullYear()}-${String(currentDate.getMonth() + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                return activities.filter(a => {
                    if (a.date !== dateStr) return false;
                    if (currentUser !== 'all' && a.user !== currentUser) return false;
                    return true;
                });
            };

            const changeMonth = (delta) => {
                const newDate = new Date(currentDate);
                newDate.setMonth(newDate.getMonth() + delta);
                setCurrentDate(newDate);
            };

            const NavButton = ({ page, icon: Icon, label }) => (
                <button
                    onClick={() => { 
                        setCurrentPage(page); 
                        setShowForm(false); 
                        setEditingActivity(null);
                    }}
                    className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${
                        currentPage === page
                            ? 'bg-blue-500 text-white shadow-lg'
                            : 'bg-slate-700 text-gray-300 hover:bg-slate-600'
                    }`}
                >
                    <Icon size={20} />
                    {label}
                </button>
            );

            // ÎåÄÏãúÎ≥¥Îìú ÌéòÏù¥ÏßÄ
            const DashboardPage = () => {
                const allActivities = filterByDateAndUser(activities);
                
                const stats = {
                    exercise: allActivities.filter(a => a.type === 'exercise').length,
                    snack: allActivities.filter(a => a.type === 'snack').length,
                    digestive: allActivities.filter(a => a.type === 'digestive').length,
                    subscription: allActivities.filter(a => a.type === 'subscription').length,
                };

                return (
                    <div>
                        <h2 className="text-2xl font-bold mb-6 flex items-center gap-2 text-white">
                            <BarChart3 size={28} />
                            ÎåÄÏãúÎ≥¥Îìú
                        </h2>

                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                            {Object.entries(ACTIVITY_TYPES).map(([key, value]) => {
                                const Icon = value.icon;
                                return (
                                    <div key={key} className={`bg-${value.color}-50 p-6 rounded-xl shadow-md`}>
                                        <div className="flex items-center justify-between mb-2">
                                            <Icon size={32} />
                                            <span className="text-3xl font-bold">{stats[key]}</span>
                                        </div>
                                        <p className="text-gray-700 font-medium">{value.name}</p>
                                    </div>
                                );
                            })}
                        </div>

                        <div className="mb-6">
                            <h3 className="text-lg font-bold mb-4 text-white">ÏµúÍ∑º ÌôúÎèô</h3>
                            <div className="space-y-3">
                                {allActivities.slice(0, 10).map((activity) => {
                                    const ActivityIcon = ACTIVITY_TYPES[activity.type].icon;
                                    return (
                                        <div key={activity.id} className="bg-slate-700 p-4 rounded-lg shadow-md flex justify-between items-center">
                                            <div className="flex items-center gap-4">
                                                <ActivityIcon size={24} className="text-gray-300" />
                                                <div>
                                                    <div className="flex items-center gap-2">
                                                        <span className={`px-2 py-1 rounded text-xs font-bold bg-${USERS[activity.user].color}-100 text-${USERS[activity.user].color}-700 flex items-center gap-1`}>
                                                            <span>{USERS[activity.user].emoji}</span>
                                                            <span>{USERS[activity.user].name}</span>
                                                        </span>
                                                        <span className="font-bold text-white">{ACTIVITY_TYPES[activity.type].name}</span>
                                                    </div>
                                                    <p className="text-sm text-gray-400">{activity.date}</p>
                                                </div>
                                            </div>
                                            <div className="flex gap-2">
                                                <button
                                                    onClick={() => {
                                                        setEditingActivity(activity);
                                                        setCurrentPage(activity.type);
                                                        setShowForm(true);
                                                    }}
                                                    className="text-blue-500 hover:text-blue-700 p-2"
                                                    title="ÏàòÏ†ï"
                                                >
                                                    <Edit size={18} />
                                                </button>
                                                <button
                                                    onClick={() => deleteActivity(activity.id)}
                                                    className="text-red-500 hover:text-red-700 p-2"
                                                    title="ÏÇ≠Ï†ú"
                                                >
                                                    <X size={18} />
                                                </button>
                                            </div>
                                        </div>
                                    );
                                })}
                                {allActivities.length === 0 && (
                                    <div className="text-center py-12 text-gray-500">
                                        <p>Í∏∞Î°ùÏù¥ ÏóÜÏäµÎãàÎã§.</p>
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                );
            };

            // 1Ï£ºÏùº Î≥¥Í∏∞ ÌéòÏù¥ÏßÄ
            const WeekViewPage = () => {
                const today = new Date();
                const weekDays = [];
                
                for (let i = 6; i >= 0; i--) {
                    const date = new Date(today);
                    date.setDate(date.getDate() - i);
                    weekDays.push(date);
                }

                const getActivitiesForWeekDay = (date) => {
                    const dateStr = date.toISOString().split('T')[0];
                    return activities.filter(a => {
                        if (a.date !== dateStr) return false;
                        if (currentUser !== 'all' && a.user !== currentUser) return false;
                        return true;
                    });
                };

                const weekDayNames = ['Ïùº', 'Ïõî', 'Ìôî', 'Ïàò', 'Î™©', 'Í∏à', 'ÌÜ†'];

                return (
                    <div>
                        <h2 className="text-2xl font-bold mb-6 flex items-center gap-2 text-white">
                            <Calendar size={28} />
                            1Ï£ºÏùº Î≥¥Í∏∞
                        </h2>

                        {/* Îã¨Î†• ÌòïÏãùÏùò 1Ï£ºÏùº Î≥¥Í∏∞ */}
                        <div className="bg-slate-700 rounded-xl shadow-lg overflow-hidden">
                            {/* ÏöîÏùº Ìó§Îçî */}
                            <div className="grid grid-cols-7 border-b border-slate-600">
                                {weekDays.map((date, idx) => {
                                    const isToday = date.toDateString() === today.toDateString();
                                    const dayName = weekDayNames[date.getDay()];
                                    
                                    return (
                                        <div 
                                            key={idx} 
                                            className={`p-4 text-center border-r border-slate-600 last:border-r-0 ${
                                                isToday ? 'bg-blue-600' : ''
                                            }`}
                                        >
                                            <div className={`text-sm ${isToday ? 'text-white font-bold' : 'text-gray-400'}`}>
                                                {dayName}
                                            </div>
                                            <div className={`text-xl font-bold ${isToday ? 'text-white' : 'text-gray-300'}`}>
                                                {date.getMonth() + 1}/{date.getDate()}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>

                            {/* ÌôúÎèô ÎÇ¥Ïö© */}
                            <div className="grid grid-cols-7">
                                {weekDays.map((date, idx) => {
                                    const dayActivities = getActivitiesForWeekDay(date);
                                    const isToday = date.toDateString() === today.toDateString();
                                    
                                    return (
                                        <div 
                                            key={idx} 
                                            className={`min-h-[300px] p-3 border-r border-slate-600 last:border-r-0 ${
                                                isToday ? 'bg-blue-900/20' : ''
                                            }`}
                                        >
                                            {dayActivities.length === 0 ? (
                                                <div className="flex items-center justify-center h-full text-gray-500 text-sm">
                                                    ÌôúÎèô ÏóÜÏùå
                                                </div>
                                            ) : (
                                                <div className="space-y-2">
                                                    {dayActivities.map(activity => {
                                                        const ActivityIcon = ACTIVITY_TYPES[activity.type].icon;
                                                        const activityName = ACTIVITY_TYPES[activity.type].name;
                                                        
                                                        let detailInfo = '';
                                                        if (activity.type === 'exercise') {
                                                            detailInfo = `${activity.exerciseType} (${activity.duration}Î∂Ñ)`;
                                                        } else if (activity.type === 'snack') {
                                                            detailInfo = `${activity.food} (${activity.calories}kcal)`;
                                                        } else if (activity.type === 'digestive') {
                                                            detailInfo = `${activity.productName} (${activity.time})`;
                                                        } else if (activity.type === 'subscription') {
                                                            detailInfo = `${activity.apartmentName} ${activity.size}`;
                                                        }
                                                        
                                                        return (
                                                            <div
                                                                key={activity.id}
                                                                className={`bg-${USERS[activity.user].color}-900/30 p-2 rounded border border-${USERS[activity.user].color}-700/50`}
                                                            >
                                                                <div className="flex items-center gap-1 mb-1">
                                                                    <span className="text-sm">{USERS[activity.user].emoji}</span>
                                                                    <ActivityIcon size={12} className="text-gray-300" />
                                                                    <span className="font-bold text-xs text-gray-300">{activityName}</span>
                                                                </div>
                                                                <p className="text-xs text-gray-400 break-words">{detailInfo}</p>
                                                                {activity.note && (
                                                                    <p className="text-xs text-gray-500 mt-1">üí¨ {activity.note}</p>
                                                                )}
                                                                <div className="flex gap-1 mt-1">
                                                                    <button
                                                                        onClick={() => {
                                                                            setEditingActivity(activity);
                                                                            setCurrentPage(activity.type);
                                                                            setShowForm(true);
                                                                        }}
                                                                        className="text-blue-400 hover:text-blue-300 p-1"
                                                                        title="ÏàòÏ†ï"
                                                                    >
                                                                        <Edit size={12} />
                                                                    </button>
                                                                    <button
                                                                        onClick={() => deleteActivity(activity.id)}
                                                                        className="text-red-400 hover:text-red-300 p-1"
                                                                        title="ÏÇ≠Ï†ú"
                                                                    >
                                                                        <X size={12} />
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        );
                                                    })}
                                                </div>
                                            )}
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    </div>
                );
            };

            // Îã¨Î†• ÌéòÏù¥ÏßÄ
            const CalendarPage = () => {
                const days = getDaysInMonth(currentDate);
                const weekDays = ['Ïùº', 'Ïõî', 'Ìôî', 'Ïàò', 'Î™©', 'Í∏à', 'ÌÜ†'];

                return (
                    <div>
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-2xl font-bold flex items-center gap-2 text-white">
                                <Calendar size={28} />
                                {currentDate.getFullYear()}ÎÖÑ {currentDate.getMonth() + 1}Ïõî
                            </h2>
                            <div className="flex gap-2">
                                <button
                                    onClick={() => changeMonth(-1)}
                                    className="p-2 bg-slate-700 text-gray-300 rounded-lg hover:bg-slate-600"
                                >
                                    <ChevronLeft />
                                </button>
                                <button
                                    onClick={() => setCurrentDate(new Date())}
                                    className="px-4 py-2 bg-slate-700 text-gray-300 rounded-lg hover:bg-slate-600 font-medium"
                                >
                                    Ïò§Îäò
                                </button>
                                <button
                                    onClick={() => changeMonth(1)}
                                    className="p-2 bg-slate-700 text-gray-300 rounded-lg hover:bg-slate-600"
                                >
                                    <ChevronRight />
                                </button>
                            </div>
                        </div>

                        <div className="bg-slate-700 rounded-xl shadow-lg overflow-hidden">
                            <div className="grid grid-cols-7 bg-slate-600">
                                {weekDays.map((day, idx) => (
                                    <div
                                        key={day}
                                        className={`text-center py-3 font-bold ${
                                            idx === 0 ? 'text-red-400' : idx === 6 ? 'text-blue-400' : 'text-gray-300'
                                        }`}
                                    >
                                        {day}
                                    </div>
                                ))}
                            </div>
                            <div className="grid grid-cols-7 border-t border-slate-600">
                                {days.map((day, idx) => {
                                    const dayActivities = day ? getActivitiesForDate(day) : [];
                                    const isToday = day && 
                                        day === new Date().getDate() && 
                                        currentDate.getMonth() === new Date().getMonth() &&
                                        currentDate.getFullYear() === new Date().getFullYear();

                                    return (
                                        <div
                                            key={idx}
                                            className={`min-h-28 p-2 border-r border-b border-slate-600 ${
                                                !day ? 'bg-slate-800' : ''
                                            } ${isToday ? 'bg-blue-900/30' : ''}`}
                                        >
                                            {day && (
                                                <>
                                                    <div className={`text-sm font-bold mb-1 ${
                                                        isToday ? 'text-blue-400' : 'text-gray-400'
                                                    }`}>
                                                        {day}
                                                    </div>
                                                    <div className="space-y-1">
                                                        {dayActivities.map(activity => {
                                                            const ActivityIcon = ACTIVITY_TYPES[activity.type].icon;
                                                            
                                                            let detailInfo = '';
                                                            if (activity.type === 'exercise') {
                                                                detailInfo = activity.exerciseType || '';
                                                            } else if (activity.type === 'snack') {
                                                                detailInfo = activity.food || '';
                                                            } else if (activity.type === 'digestive') {
                                                                detailInfo = activity.productName || '';
                                                            } else if (activity.type === 'subscription') {
                                                                detailInfo = activity.apartmentName || '';
                                                            }
                                                            
                                                            return (
                                                                <div
                                                                    key={activity.id}
                                                                    className={`text-xs bg-${USERS[activity.user].color}-900/40 border border-${USERS[activity.user].color}-700/50 px-2 py-1 rounded flex items-center justify-between gap-1`}
                                                                    title={`${USERS[activity.user].name} - ${ACTIVITY_TYPES[activity.type].name}: ${detailInfo}`}
                                                                >
                                                                    <span className="truncate flex items-center gap-1 text-gray-300">
                                                                        <span>{USERS[activity.user].emoji}</span>
                                                                        <ActivityIcon size={12} />
                                                                        <span className="font-medium">{detailInfo || ACTIVITY_TYPES[activity.type].name}</span>
                                                                    </span>
                                                                    <button
                                                                        onClick={() => deleteActivity(activity.id)}
                                                                        className="text-red-400 hover:text-red-300 flex-shrink-0"
                                                                        title="ÏÇ≠Ï†ú"
                                                                    >
                                                                        <X size={12} />
                                                                    </button>
                                                                </div>
                                                            );
                                                        })}
                                                    </div>
                                                </>
                                            )}
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    </div>
                );
            };

            // ÌôúÎèôÎ≥Ñ ÌéòÏù¥ÏßÄ (Ïö¥Îèô, ÏïºÏãù, ÏÜåÌôîÏ†ú, Ï≤≠ÏïΩ)
            const ActivityPage = ({ type }) => {
                const filteredData = filterByDateAndUser(activities.filter(a => a.type === type));
                const ActivityIcon = ACTIVITY_TYPES[type].icon;

                const ActivityForm = () => {
                    const isEditing = !!editingActivity;
                    const [formData, setFormData] = useState(
                        isEditing ? { ...editingActivity } : {
                            date: new Date().toISOString().split('T')[0]
                        }
                    );

                    useEffect(() => {
                        if (editingActivity) {
                            setFormData({ ...editingActivity });
                        }
                    }, []);

                    const handleSubmit = (e) => {
                        e.preventDefault();
                        if (isEditing) {
                            updateActivity(editingActivity.id, formData);
                        } else {
                            addActivity(formData, type);
                        }
                        setFormData({ date: new Date().toISOString().split('T')[0] });
                    };

                    return (
                        <form onSubmit={handleSubmit} className="bg-slate-700 p-6 rounded-xl mb-6">
                            <h3 className="text-lg font-bold mb-4 text-white">
                                {isEditing ? 'ÌôúÎèô ÏàòÏ†ï' : 'ÏÉà ÌôúÎèô Ï∂îÍ∞Ä'}
                            </h3>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                {(currentUser === 'all' || isEditing) && (
                                    <div>
                                        <label className="block text-sm font-medium text-gray-300 mb-2">ÏÇ¨Ïö©Ïûê</label>
                                        <select
                                            value={formData.user || 'tide'}
                                            onChange={(e) => setFormData({ ...formData, user: e.target.value })}
                                            className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white focus:ring-2 focus:ring-blue-500"
                                            required
                                        >
                                            {Object.entries(USERS).map(([key, user]) => (
                                                <option key={key} value={key}>{user.emoji} {user.name}</option>
                                            ))}
                                        </select>
                                    </div>
                                )}
                                <div>
                                    <label className="block text-sm font-medium text-gray-300 mb-2">ÎÇ†Ïßú</label>
                                    <input
                                        type="date"
                                        value={formData.date}
                                        onChange={(e) => setFormData({ ...formData, date: e.target.value })}
                                        className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white focus:ring-2 focus:ring-blue-500"
                                        required
                                    />
                                </div>

                                {type === 'exercise' && (
                                    <>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-2">Ïö¥Îèô Ï¢ÖÎ•ò</label>
                                            <input
                                                type="text"
                                                value={formData.exerciseType || ''}
                                                onChange={(e) => setFormData({ ...formData, exerciseType: e.target.value })}
                                                placeholder="Ïòà: Îü∞Îãù, Ìó¨Ïä§"
                                                className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500"
                                                required
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-2">ÏãúÍ∞Ñ (Î∂Ñ)</label>
                                            <input
                                                type="number"
                                                value={formData.duration || ''}
                                                onChange={(e) => setFormData({ ...formData, duration: e.target.value })}
                                                placeholder="Ïòà: 30"
                                                className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500"
                                                required
                                            />
                                        </div>
                                        <div className="md:col-span-2">
                                            <label className="block text-sm font-medium text-gray-300 mb-2">Î©îÎ™®</label>
                                            <input
                                                type="text"
                                                value={formData.note || ''}
                                                onChange={(e) => setFormData({ ...formData, note: e.target.value })}
                                                placeholder="ÌäπÏù¥ÏÇ¨Ìï≠"
                                                className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500"
                                            />
                                        </div>
                                    </>
                                )}

                                {type === 'snack' && (
                                    <>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-2">ÏùåÏãù</label>
                                            <input
                                                type="text"
                                                value={formData.food || ''}
                                                onChange={(e) => setFormData({ ...formData, food: e.target.value })}
                                                placeholder="Ïòà: ÏπòÌÇ®, ÎùºÎ©¥"
                                                className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500"
                                                required
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-2">ÏπºÎ°úÎ¶¨ (kcal)</label>
                                            <input
                                                type="number"
                                                value={formData.calories || ''}
                                                onChange={(e) => setFormData({ ...formData, calories: e.target.value })}
                                                placeholder="Ïòà: 500"
                                                className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500"
                                                required
                                            />
                                        </div>
                                        <div className="md:col-span-2">
                                            <label className="block text-sm font-medium text-gray-300 mb-2">Î©îÎ™®</label>
                                            <input
                                                type="text"
                                                value={formData.note || ''}
                                                onChange={(e) => setFormData({ ...formData, note: e.target.value })}
                                                placeholder="ÌäπÏù¥ÏÇ¨Ìï≠"
                                                className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500"
                                            />
                                        </div>
                                    </>
                                )}

                                {type === 'digestive' && (
                                    <>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-2">Ï†úÌíàÎ™Ö</label>
                                            <input
                                                type="text"
                                                value={formData.productName || ''}
                                                onChange={(e) => setFormData({ ...formData, productName: e.target.value })}
                                                placeholder="Ïòà: Î≤†ÏïÑÏ†ú"
                                                className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500"
                                                required
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-2">Î≥µÏö© ÏãúÍ∞Ñ</label>
                                            <input
                                                type="time"
                                                value={formData.time || ''}
                                                onChange={(e) => setFormData({ ...formData, time: e.target.value })}
                                                className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white focus:ring-2 focus:ring-blue-500"
                                                required
                                            />
                                        </div>
                                        <div className="md:col-span-2">
                                            <label className="block text-sm font-medium text-gray-300 mb-2">Î©îÎ™®</label>
                                            <input
                                                type="text"
                                                value={formData.note || ''}
                                                onChange={(e) => setFormData({ ...formData, note: e.target.value })}
                                                placeholder="ÌäπÏù¥ÏÇ¨Ìï≠"
                                                className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500"
                                            />
                                        </div>
                                    </>
                                )}

                                {type === 'subscription' && (
                                    <>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-2">ÏïÑÌååÌä∏Î™Ö</label>
                                            <input
                                                type="text"
                                                value={formData.apartmentName || ''}
                                                onChange={(e) => setFormData({ ...formData, apartmentName: e.target.value })}
                                                placeholder="Ïòà: ÎûòÎØ∏Ïïà"
                                                className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500"
                                                required
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-2">ÌèâÌòï</label>
                                            <input
                                                type="text"
                                                value={formData.size || ''}
                                                onChange={(e) => setFormData({ ...formData, size: e.target.value })}
                                                placeholder="Ïòà: 84ÌèâÌòï"
                                                className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500"
                                                required
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-2">Í∞ÄÍ≤© (ÎßåÏõê)</label>
                                            <input
                                                type="text"
                                                value={formData.price || ''}
                                                onChange={(e) => setFormData({ ...formData, price: e.target.value })}
                                                placeholder="Ïòà: 100,000"
                                                className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500"
                                                required
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-2">ÎãπÏ≤®Ïûê Î∞úÌëúÏùº</label>
                                            <input
                                                type="date"
                                                value={formData.announcementDate || ''}
                                                onChange={(e) => setFormData({ ...formData, announcementDate: e.target.value })}
                                                className="w-full px-4 py-2 rounded-lg border border-slate-600 bg-slate-800 text-white focus:ring-2 focus:ring-blue-500"
                                                required
                                            />
                                        </div>
                                    </>
                                )}
                            </div>
                            <div className="flex gap-2 mt-4">
                                <button
                                    type="submit"
                                    className="flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-all font-medium"
                                >
                                    {isEditing ? 'ÏàòÏ†ïÌïòÍ∏∞' : 'Ï∂îÍ∞ÄÌïòÍ∏∞'}
                                </button>
                                <button
                                    type="button"
                                    onClick={() => {
                                        setShowForm(false);
                                        setEditingActivity(null);
                                    }}
                                    className="px-6 bg-slate-600 text-gray-300 py-2 rounded-lg hover:bg-slate-500 transition-all font-medium"
                                >
                                    Ï∑®ÏÜå
                                </button>
                            </div>
                        </form>
                    );
                };

                return (
                    <div>
                        <h2 className="text-2xl font-bold mb-6 flex items-center gap-2 text-white">
                            <ActivityIcon size={28} />
                            {ACTIVITY_TYPES[type].name}
                        </h2>

                        {(showForm || editingActivity) && <ActivityForm />}

                        {!showForm && !editingActivity && (
                            <button
                                onClick={() => setShowForm(true)}
                                className="w-full mb-6 flex items-center justify-center gap-2 bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 transition-all font-medium"
                            >
                                <Plus size={20} />
                                ÏÉàÎ°ú Ï∂îÍ∞Ä
                            </button>
                        )}

                        <div className="space-y-3">
                            {filteredData.map((activity) => (
                                <div key={activity.id} className="bg-slate-700 p-5 rounded-xl shadow-md hover:shadow-lg transition-all">
                                    <div className="flex justify-between items-start">
                                        <div className="flex-1">
                                            <div className="flex items-center gap-2 mb-2">
                                                <span className={`px-2 py-1 rounded text-xs font-bold bg-${USERS[activity.user].color}-100 text-${USERS[activity.user].color}-700 flex items-center gap-1`}>
                                                    <span>{USERS[activity.user].emoji}</span>
                                                    <span>{USERS[activity.user].name}</span>
                                                </span>
                                                <span className="text-sm text-gray-400">{activity.date}</span>
                                            </div>
                                            
                                            {type === 'exercise' && (
                                                <div>
                                                    <p className="font-bold text-lg text-white">{activity.exerciseType}</p>
                                                    <p className="text-gray-400">{activity.duration}Î∂Ñ</p>
                                                    {activity.note && <p className="text-sm text-gray-500 mt-1">{activity.note}</p>}
                                                </div>
                                            )}
                                            
                                            {type === 'snack' && (
                                                <div>
                                                    <p className="font-bold text-lg text-white">{activity.food}</p>
                                                    <p className="text-gray-400">{activity.calories} kcal</p>
                                                    {activity.note && <p className="text-sm text-gray-500 mt-1">{activity.note}</p>}
                                                </div>
                                            )}
                                            
                                            {type === 'digestive' && (
                                                <div>
                                                    <p className="font-bold text-lg text-white">{activity.productName}</p>
                                                    <p className="text-gray-400">{activity.time}</p>
                                                    {activity.note && <p className="text-sm text-gray-500 mt-1">{activity.note}</p>}
                                                </div>
                                            )}
                                            
                                            {type === 'subscription' && (
                                                <div>
                                                    <p className="font-bold text-lg text-white">{activity.apartmentName}</p>
                                                    <div className="grid grid-cols-2 gap-2 mt-2">
                                                        <p className="text-sm text-gray-400">ÌèâÌòï: {activity.size}</p>
                                                        <p className="text-sm text-gray-400">Í∞ÄÍ≤©: {activity.price}ÎßåÏõê</p>
                                                        <p className="text-sm text-gray-400">Î∞úÌëúÏùº: {activity.announcementDate}</p>
                                                    </div>
                                                </div>
                                            )}
                                        </div>
                                        <div className="flex gap-2">
                                            <button
                                                onClick={() => {
                                                    setEditingActivity(activity);
                                                    setShowForm(true);
                                                }}
                                                className="text-blue-400 hover:text-blue-300 p-2"
                                                title="ÏàòÏ†ï"
                                            >
                                                <Edit size={18} />
                                            </button>
                                            <button
                                                onClick={() => deleteActivity(activity.id)}
                                                className="text-red-400 hover:text-red-300 p-2"
                                                title="ÏÇ≠Ï†ú"
                                            >
                                                <X size={18} />
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            ))}
                            {filteredData.length === 0 && (
                                <div className="text-center py-12 text-gray-500">
                                    <ActivityIcon size={48} />
                                    <p className="mt-4">Í∏∞Î°ùÏù¥ ÏóÜÏäµÎãàÎã§.</p>
                                </div>
                            )}
                        </div>
                    </div>
                );
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6">
                    <div className="max-w-7xl mx-auto">
                        {/* Ìó§Îçî */}
                        <div className="mb-8">
                            <h1 className="text-4xl font-bold text-white mb-4">ÏùºÏÉÅ Í∏∞Î°ù Í¥ÄÎ¶¨</h1>
                            
                            {/* ÏÇ¨Ïö©Ïûê ÏÑ†ÌÉù */}
                            <div className="flex gap-3 mb-4">
                                <button
                                    onClick={() => setCurrentUser('all')}
                                    className={`px-6 py-3 rounded-lg font-bold transition-all ${
                                        currentUser === 'all'
                                            ? 'bg-gradient-to-r from-blue-500 to-amber-500 text-white shadow-lg scale-105'
                                            : 'bg-slate-700 text-gray-300 hover:bg-slate-600'
                                    }`}
                                >
                                    Ï†ÑÏ≤¥
                                </button>
                                {Object.entries(USERS).map(([key, user]) => (
                                    <button
                                        key={key}
                                        onClick={() => setCurrentUser(key)}
                                        className={`flex items-center gap-2 px-6 py-3 rounded-lg font-bold transition-all ${
                                            currentUser === key
                                                ? `bg-${user.color}-500 text-white shadow-lg scale-105`
                                                : 'bg-slate-700 text-gray-300 hover:bg-slate-600'
                                        }`}
                                    >
                                        <span className="text-xl">{user.emoji}</span>
                                        <span>{user.name}</span>
                                    </button>
                                ))}
                            </div>

                            {/* ÏãúÍ∞Ñ ÌïÑÌÑ∞ */}
                            <div className="flex gap-2 mb-4">
                                <button
                                    onClick={() => setTimeFilter('week')}
                                    className={`px-4 py-2 rounded-lg ${
                                        timeFilter === 'week' ? 'bg-blue-500 text-white' : 'bg-slate-700 text-gray-300'
                                    }`}
                                >
                                    1Ï£ºÏùº
                                </button>
                                <button
                                    onClick={() => setTimeFilter('month')}
                                    className={`px-4 py-2 rounded-lg ${
                                        timeFilter === 'month' ? 'bg-blue-500 text-white' : 'bg-slate-700 text-gray-300'
                                    }`}
                                >
                                    1Í∞úÏõî
                                </button>
                                <button
                                    onClick={() => setTimeFilter('3months')}
                                    className={`px-4 py-2 rounded-lg ${
                                        timeFilter === '3months' ? 'bg-blue-500 text-white' : 'bg-slate-700 text-gray-300'
                                    }`}
                                >
                                    3Í∞úÏõî
                                </button>
                                <button
                                    onClick={() => setTimeFilter('all')}
                                    className={`px-4 py-2 rounded-lg ${
                                        timeFilter === 'all' ? 'bg-blue-500 text-white' : 'bg-slate-700 text-gray-300'
                                    }`}
                                >
                                    Ï†ÑÏ≤¥
                                </button>
                            </div>

                            {/* CSV Ï†ÄÏû•/Î∂àÎü¨Ïò§Í∏∞ */}
                            <div className="space-y-3">
                                <div className="flex flex-wrap gap-2">
                                    <button
                                        onClick={exportToCSV}
                                        className="flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all"
                                    >
                                        <Download size={18} />
                                        CSVÎ°ú Ï†ÄÏû•
                                    </button>
                                    <label className="flex items-center gap-2 px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-all cursor-pointer">
                                        <Upload size={18} />
                                        CSV Î∂àÎü¨Ïò§Í∏∞
                                        <input
                                            type="file"
                                            accept=".csv"
                                            onChange={importFromCSV}
                                            className="hidden"
                                            id="csv-upload-input"
                                        />
                                    </label>
                                    <button
                                        onClick={resetToDefault}
                                        className="flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all"
                                        title="Î™®Îì† Îç∞Ïù¥ÌÑ∞Î•º ÏÇ≠Ï†úÌïòÍ≥† Í∏∞Î≥∏ ÏÉòÌîåÎ°ú Ï¥àÍ∏∞Ìôî"
                                    >
                                        <X size={18} />
                                        Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî
                                    </button>
                                </div>
                                
                                {/* Drag & Drop ÏòÅÏó≠ */}
                                <div
                                    onDragOver={(e) => {
                                        e.preventDefault();
                                        e.currentTarget.classList.add('border-blue-500', 'bg-blue-900/20');
                                    }}
                                    onDragLeave={(e) => {
                                        e.preventDefault();
                                        e.currentTarget.classList.remove('border-blue-500', 'bg-blue-900/20');
                                    }}
                                    onDrop={(e) => {
                                        e.preventDefault();
                                        e.currentTarget.classList.remove('border-blue-500', 'bg-blue-900/20');
                                        const file = e.dataTransfer.files[0];
                                        if (file && file.name.endsWith('.csv')) {
                                            const fakeEvent = { target: { files: [file] } };
                                            importFromCSV(fakeEvent);
                                        } else {
                                            alert('CSV ÌååÏùºÎßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§.');
                                        }
                                    }}
                                    className="border-2 border-dashed border-slate-600 rounded-lg p-6 text-center cursor-pointer hover:border-slate-500 transition-all"
                                    onClick={() => document.getElementById('csv-upload-input').click()}
                                >
                                    <Upload size={32} className="mx-auto mb-2 text-gray-400" />
                                    <p className="text-gray-400 text-sm">
                                        CSV ÌååÏùºÏùÑ Ïó¨Í∏∞Ïóê ÎìúÎûòÍ∑∏ÌïòÍ±∞ÎÇò ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî
                                    </p>
                                </div>
                            </div>
                        </div>

                        {/* ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò */}
                        <div className="flex flex-wrap gap-3 mb-8">
                            <NavButton page="dashboard" icon={BarChart3} label="ÎåÄÏãúÎ≥¥Îìú" />
                            <NavButton page="calendar" icon={Calendar} label="Îã¨Î†•" />
                            <NavButton page="week" icon={Calendar} label="1Ï£ºÏùº Î≥¥Í∏∞" />
                            <NavButton page="exercise" icon={Dumbbell} label="Ïö¥Îèô" />
                            <NavButton page="snack" icon={Moon} label="ÏïºÏãù" />
                            <NavButton page="digestive" icon={Pill} label="ÏÜåÌôîÏ†ú" />
                            <NavButton page="subscription" icon={Home} label="Ï≤≠ÏïΩ" />
                        </div>

                        {/* Î©îÏù∏ ÏΩòÌÖêÏ∏† */}
                        <div className="bg-slate-800/90 backdrop-blur-sm rounded-2xl shadow-xl p-8">
                            {currentPage === 'dashboard' && <DashboardPage />}
                            {currentPage === 'week' && <WeekViewPage />}
                            {currentPage === 'calendar' && <CalendarPage />}
                            {currentPage === 'exercise' && <ActivityPage type="exercise" />}
                            {currentPage === 'snack' && <ActivityPage type="snack" />}
                            {currentPage === 'digestive' && <ActivityPage type="digestive" />}
                            {currentPage === 'subscription' && <ActivityPage type="subscription" />}
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<DailyTracker />, document.getElementById('root'));
    </script>
</body>
</html>
